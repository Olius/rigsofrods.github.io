<!DOCTYPE html><html class="no-js" lang="cs"><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><title>Terrain System Ideas - Rigs of Rods</title><link href="/stylesheets/styles.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/github.min.css" rel="stylesheet" /><link href="/stylesheets/owl-carousel/assets/owl.carousel.css" rel="stylesheet" /><link href="/stylesheets/owl-carousel/assets/owl.theme.default.min.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CUbuntu+Mono:400%7CUbuntu:300,300italic,300bold,400,400italic,400bold,600,600italic,600bold" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-smooth-scroll/1.5.5/jquery.smooth-scroll.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script><script src="/stylesheets/owl-carousel/owl.carousel.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function(){
    var WebP = new Image();
    WebP.onload = WebP.onerror = function(){
        if(WebP.height != 2){
            var sc = document.createElement('script');
            sc.type = 'text/javascript';
            sc.async = true;
            var s = document.getElementsByTagName('script')[0];
            sc.src = 'http://webpjs.appspot.com/js/webpjs-0.0.2.min.js';
            s.parentNode.insertBefore(sc,s);
        }
    };
    WebP.src='data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';
})();</script><script>$(document).foundation();</script><script>$(document).ready(function() {
    $('a').smoothScroll();
    $('').click(function(event) {
        event.preventDefault();
        var link = this;
        $.smoothScroll({
            scrollTarget: link.hash
        });
    });
});</script><script>$(document).ready(function() {
  $("#media-slider").owlCarousel({
    items: 1,
    nav: true,
    merge: true,
    loop: true,
    video: true,
    lazyLoad: true,
    center: true,
    videoHeight: 720,
    responsive: {
      0:{
          items:1
      },
      600:{
          items:1
      },
      1000:{
          items:1
      }
    }
  });
});</script></head><body><div class="fixed contain-to-grid top-bar-margin"><nav class="top-bar" data-topbar="" role="navigation"><ul class="title-area"><li class="name"><h1><a href="/cs/">Rigs of Rods</a></h1></li></ul><section class="top-bar-section"><ul class="left"><li><a href="/cs/"><span class='fa fa-home'></span>  <span>Home</span></a></li><li><a href="/cs/download/"><span class='fa fa-download'></span>  <span>Download</span></a></li><li><a href="/cs/repository/"><span class='fa fa-plus'></span>  <span>Repository</span></a></li><li><a href="/cs/forum/"><span class='fa fa-comments'></span>  <span>Forum</span></a></li><li><a href="/cs/blog/"><span class='fa fa-pencil'></span>  <span>Blog</span></a></li><li><a href="/cs/docs/"><span class='fa fa-lightbulb-o'></span>  <span>Docs</span></a></li><li><a href="/cs/races/"><span class='fa fa-users'></span>  <span>Multiplayer</span></a></li></ul></section></nav></div></body></html><div class="row main-start"><div class="small-12 columns"><article><header><h1>Terrain System Ideas</h1><div class="details"></div></header><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page presents ideas for future terrain development.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#useful_terrain_resources">1. Useful terrain resources</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="useful_terrain_resources"><a class="anchor" href="#useful_terrain_resources"></a>1. Useful terrain resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here&#8217;s a short list of articles that I&#8217;ve found useful while thinking about
this terrain engine.&lt;br&gt;</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.terrain.dk/">Very Large, Very Detailed Terrain</a> - procedural
fractal detail generation (but missing any type of alpha splatting or vector
overlays for user-specified detail like roads or parking lots)</p>
</li>
<li>
<p><a href="http://citeseer.ist.psu.edu/cache/papers/cs/1324/http:zSzzSzwww9.informatik.uni-erlangen.dezSzPersonszSzKobbeltzSzpaperszSzfour.pdf/kobbelt96interpolatory.pdf">Four-Point
Subdivision</a> - The subdivision method used to divide the heightmap smoothly
before applying fractal detail (note that this requires the two neighboring
points to each page. This will be handled by asking the neighbor for the
height values, and using linear interpolation if it is not yet loaded (it
will be beyond the view distance anyway).</p>
</li>
<li>
<p><a href="http://research.microsoft.com/en-us/um/people/hoppe/proj/geomclipmap/">Geometry
Clipmaps</a> - their compression method looks to be best-in-class, though their
GPU representation seems a little weird - it doesn&#8217;t account for portions of
land that are detailed enough to be displayed at a higher LODs farther away,
and large enough flat places nearby to be displayed at lower LODs. In other
words it assumes all terrains are <strong>perfect</strong> fractals.</p>
</li>
<li>
<p><a href="http://en.wikipedia.org/wiki/Progressive_Graphics_File">Progressive Graphics
File</a> - an image compression library which works especially well on natural
images (of which heightmaps are model citizens).</p>
</li>
<li>
<p><a href="http://research.microsoft.com/en-us/um/people/hoppe/proj/geomclipmap/">Vector-based
terrains</a> - this one talks about using a spline graph to create user
specified detail at resolutions higher than that stored in the
heightmap. This is perfect for roads, but their textures are
cartoony-looking for a reason&#8230;&#8203; the textures they generate still have
pixels bigger than one inch even directly below you. If I use this approach,
I&#8217;ll have to subdivide further down to get a decent level of detail, and I&#8217;m
not sure that there will be enough memory. (edit) If I generate the textures
procedurally every frame in the pixel shader, it may work, but it may also
kill the gpu. I may instead implement the flattening in the vertex shader,
then use decals to actually draw the roads on top of the terrain.</p>
</li>
<li>
<p><a href="http://www2.imm.dtu.dk/pubdb/views/edoc_download.php/1425/pdf/imm1425.pdf">Real-time
Terrain Rendering using Smooth Hardware Optimized Level of Detail</a> describes
the LOD approach used by Ogre&#8217;s terrain engine (except Ogre uses skirts
instead of stitching), which will be incorporated into mine. They don&#8217;t care
much about texturing or anything other than the underlying mesh.</p>
</li>
<li>
<p><a href="http://http.developer.nvidia.com/GPUGems2/gpugems2_chapter26.html">GPU Perlin
Noise</a> - Some variant of a 2D version of this will be used to supply the
randomness to the fractal functions (instead of the blocky texture lookup
used in terrain.dk).</p>
</li>
<li>
<p><a href="http://developer.amd.com/Assets/Tatarchuk-Noise%28GDC07-D3D_Day%29.pdf">More
GPU Noise</a> - I&#8217;m still thinking about the noise generator&#8230;&#8203; it has to be on
the GPU and it has to be fast. This slideshow is a good overview of the
concepts involved in this type of noise function.</p>
</li>
<li>
<p><a href="http://www.vterrain.org/">vTerrain.org</a> - a good knowledge of terrain
rendering requires reading this entire site (I haven&#8217;t done it yet, but I&#8217;ve
read almost everything in the Rendering section that looked like it applied
to modern GPUs). Parts and pieces of any of these papers may slip into my
terrain engine.</p>
</li>
</ul>
</div>
</div>
</div></div></article></div></div><footer><div class="row"><div class="small-12 medium-4 columns"><h4>We are open</h4>Rigs of Rods is free and open source, available under the <a href='https://www.gnu.org/Copyleft/' title='Copyleft licensing'>copyleft</a>-style <a href='http://www.gnu.org/licenses/gpl-3.0.html' title='The GPLv3 license'>GPLv3</a> license.</div><div class="small-12 medium-2 columns"><h4>Home</h4><ul><li><a href="/cs/download" title="Get the game">Download</a></li><li><a href="/cs/blog" title="Read the blog">Blog</a></li><li><a href="/cs/docs" title="Read the docs">Docs</a></li></ul></div><div class="small-12 medium-2 columns"><h4>Forum</h4><ul><li><a href="http://rigsofrods.com/forum" title="Talk to the community">Index</a></li><li><a href="http://rigsofrods.com/sso" title="Register at the forum">Register</a></li><li><a href="http://rigsofrods.com/search.php" title="Find what you need">Search</a></li></ul></div><div class="small-12 medium-4 columns"><h4>Follow us</h4><ul class="home-social"><li><a class="fa fa-skype" href="skype:?chat&blob=exB2MnslJgrO7xk2xk1JRT6whqW6Ujju4gfIg9DbnMeqJJcSlvqjcSiDJkskBWBYAy2ZS0TiomfDPYLCfqeGNvUUeRmWNuXkg57cxYe6"></a><a class="fa fa-vk" href="https://vk.com/rigsofrods.official"></a><a class="fa fa-facebook" href="https://facebook.com/rigsofrods.official"></a><a class="fa fa-twitter" href="https://twitter.com/rigsofrods_game"></a><a class="fa fa-youtube" href="https://youtube.com/OfficialRigsOfRods"></a></li></ul></div></div></footer>